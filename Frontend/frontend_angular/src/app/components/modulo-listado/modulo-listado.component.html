<div class="container">
    <h1>Listado de Ítems</h1>
  
    <!-- Filtro -->
    <div class="filter">
      <label for="filter">Filtrar por modo:</label>
      <select id="filter" (change)="filterItems($event)">
        <option value="all">Todos</option>
        <option value="estudiante">Estudiante</option>
        <option value="administrativo">Administrativo</option>
      </select>
    </div>
  
    <!-- Cargando datos -->
    <div *ngIf="isLoading" class="loading">
      <p>Cargando...</p>
    </div>
  
    <!-- Lista de ítems -->
    <ul>
      <li *ngFor="let item of filteredItems; let i = index">
        <div class="item-text">
            <p><strong>ID:</strong> {{ item.identification }}</p>
            <p><strong>Nombre:</strong> {{ item.name }} {{ item.surename }}</p>
            <p><strong>Rol:</strong> {{ item.role }}</p>
        </div>
        <button class="edit-btn" (click)="startEdit(item, i)">Editar</button>
        <button class="delete-btn" (click)="deleteItem(i)">Eliminar</button>
      </li>
    </ul>
  
    <!-- Formulario de edición -->
    <div *ngIf="editingItem" class="edit-form">
      <h2>Editar ítem</h2>
      <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <div>
          <label for="foto">Foto</label>
          <input id="foto" formControlName="foto" type="file" />
        </div>
  
        <div>
          <label for="nombres">Nombres</label>
          <input id="nombres" formControlName="nombres" type="text" />
        </div>
  
        <div>
          <label for="apellidos">Apellidos</label>
          <input id="apellidos" formControlName="apellidos" type="text" />
        </div>
  
        <div *ngIf="editingItem.modo === 'estudiante'">
          <label for="unidadAcademica">Unidad Académica</label>
          <input id="unidadAcademica" formControlName="unidadAcademica" type="text" />
        </div>
  
        <div *ngIf="editingItem.modo === 'administrativo'">
          <label for="direccionAdministrativa">Dirección Administrativa</label>
          <input id="direccionAdministrativa" formControlName="direccionAdministrativa" type="text" />
        </div>
  
        <button type="submit" [disabled]="!editForm.valid">Guardar</button>
        <button type="button" (click)="cancelEdit()">Cancelar</button>
      </form>
    </div>
  </div>
  