<div class="container">
    <h1>Listado de Ítems</h1>
  
    <!-- Filtro -->
    <div class="filter">
      <label for="filter">Filtrar por modo:</label>
      <select id="filter" (change)="filterItems($event)">
        <option value="all">Todos</option>
        <option value="estudiante">Estudiante</option>
        <option value="administrativo">Administrativo</option>
      </select>
    </div>
  
    <!-- Cargando datos -->
    <div *ngIf="isLoading" class="loading">
      <p>Cargando...</p>
    </div>
  
    <!-- Lista de ítems -->
    <ul>
      <li *ngFor="let item of filteredItems; let i = index">
        <div class="item-text">
          <p><strong>ID:</strong> {{ item.identification }}</p>
          <p><strong>Nombre:</strong> {{ item.name }} {{ item.surename }}</p>
          <p><strong>Rol:</strong> {{ item.role }}</p>
        </div>
        <button class="edit-btn" (click)="startEdit(item, i)">Editar</button>
        <button class="delete-btn" (click)="confirmDelete(item)">Eliminar</button>
      </li>
    </ul>
  
    <!-- Mensaje de confirmación -->
    <div *ngIf="showDeleteConfirmation" class="confirmation-modal">
      <p>¿Está seguro de que desea eliminar este registro?</p>
      <button (click)="deleteItem()">Confirmar</button>
      <button (click)="cancelDelete()">Cancelar</button>
    </div>
  
    <!-- Formulario de edición -->
    <div *ngIf="editingItem" class="edit-form">
      <h2>Editar Ítem</h2>
      <form [formGroup]="editForm" (ngSubmit)="onSubmit()">
        <!-- Foto -->
        <label for="foto">Foto:</label>
        <input type="file" id="foto" formControlName="foto" />
  
        <!-- Modo -->
        <label>Modo:</label>
        <div class="radio-group">
          <label>
            <input type="radio" formControlName="modo" value="estudiante" /> Estudiante
          </label>
          <label>
            <input type="radio" formControlName="modo" value="docente" /> Docente
          </label>
          <label>
            <input type="radio" formControlName="modo" value="administrativo" /> Administrativo
          </label>
        </div>
  
        <!-- Identificación -->
        <label for="identificacion">Cédula o Pasaporte:</label>
        <input type="text" id="identificacion" formControlName="identificacion" />
        <p><strong>ID:</strong> {{ item.identification }}</p>
  
        <!-- Nombres -->
        <label for="nombres">Nombres:</label>
        <input type="text" id="nombres" formControlName="nombres" />
  
        <!-- Apellidos -->
        <label for="apellidos">Apellidos:</label>
        <input type="text" id="apellidos" formControlName="apellidos" />
  
        <!-- Número Único -->
        <label for="numeroUnico">Número Único:</label>
        <input type="text" id="numeroUnico" formControlName="numeroUnico" maxlength="9" />
  
        <!-- Unidad Académica -->
        <div *ngIf="editingItem?.modo === 'estudiante'">
          <label for="unidadAcademica">Unidad Académica:</label>
          <input type="text" id="unidadAcademica" formControlName="unidadAcademica" />
        </div>
  
        <!-- Dirección Administrativa -->
        <div *ngIf="editingItem?.modo === 'administrativo'">
          <label for="direccionAdministrativa">Dirección Administrativa:</label>
          <input type="text" id="direccionAdministrativa" formControlName="direccionAdministrativa" />
        </div>
  
        <button type="submit" [disabled]="!editForm.valid">Guardar</button>
        <button type="button" (click)="cancelEdit()">Cancelar</button>
      </form>
    </div>
  </div>
  